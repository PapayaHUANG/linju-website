---
import { getEntry } from 'astro:content'

import MainLayout from '../../layouts/MainLayout.astro'
import Main from '../../components/about/Main.astro'

import { getLangFromUrl, useTranslations } from '../../i18n/utils'

const podcast = await getEntry('about', 'en/podcast')
const sing = await getEntry('about', 'en/sing')
const papaya = await getEntry('about', 'en/papaya')

const lang = getLangFromUrl(Astro.url)
const t = useTranslations(lang)

const { Content: PodcastContent } = await podcast.render()
const { Content: SingContent } = await sing.render()
const { Content: PapayaContent } = await papaya.render()
---

<MainLayout>
  <Main
    {...{
      t,
      PodcastContent,
      SingContent,
      PapayaContent,
      podcast,
      sing,
      papaya,
      lang
    }}
  />
</MainLayout>
